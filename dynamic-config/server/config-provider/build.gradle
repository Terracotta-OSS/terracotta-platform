plugins {
  id 'org.terracotta.build.convention.java-library'
  id 'org.terracotta.build.convention.deploy'
  id 'org.terracotta.build.convention.voltron'
}

dependencies {
  service project(':dynamic-config:server:api')
  service project(':diagnostic:server:api')

  compileOnly "org.terracotta:server-api:$terracottaApisVersion"

  implementation project(':dynamic-config:repository')
  implementation "com.beust:jcommander:$jcommanderVersion"
  compileOnly "org.terracotta:terracotta-utilities-tools:$terracottaUtilitiesToolsVersion"

  testImplementation project(':common:test-utilities')
  testCompileOnly "org.terracotta:client-api:$terracottaApisVersion"
  testImplementation "org.terracotta.internal:server-runtime:$terracottaRuntimeVersion"
  testImplementation "org.terracotta.internal:client-runtime:$terracottaRuntimeVersion"
  testImplementation "org.terracotta:terracotta-utilities-tools:$terracottaUtilitiesToolsVersion"
}

deploy {
  groupId = 'org.terracotta'
  artifactId = 'terracotta-dynamic-config-server-configuration-provider'
  name = 'Dynamic Config Server Configuration Provider'
}
